@page "/privacy"
@layout EmptyLayout
@attribute [AllowAnonymous]
@using Microsoft.AspNetCore.Authorization
@inject NavigationManager Nav

<div class="min-h-screen bg-gray-50 dark:bg-gray-950 py-12 px-4">
    <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-12">
            <a href="/" class="inline-flex items-center gap-3 mb-6">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <span class="text-xl font-bold text-gray-800 dark:text-gray-200">FamilyFinance</span>
            </a>
            <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Privacy Policy</h1>
            <p class="text-gray-500 dark:text-gray-400 mt-2">Ultimo aggiornamento: Dicembre 2024</p>
        </div>

        <!-- Content -->
        <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 space-y-8">
            
            <!-- Intro -->
            <section>
                <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
                    FamilyFinance √® un'applicazione open-source per la gestione del patrimonio familiare. 
                    Questa informativa descrive come vengono trattati i tuoi dati personali in conformit√† 
                    con il Regolamento Europeo 2016/679 (GDPR).
                </p>
            </section>

            <!-- Titolare -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üë§</span> Titolare del Trattamento
                </h2>
                <p class="text-gray-600 dark:text-gray-300">
                    Riccardo Merenda<br>
                    Contatto: <a href="https://www.linkedin.com/in/riccardomerenda/" target="_blank" class="text-primary-600 dark:text-primary-400 hover:underline">LinkedIn</a>
                </p>
            </section>

            <!-- Dati Raccolti -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üìã</span> Dati Raccolti
                </h2>
                <div class="space-y-4 text-gray-600 dark:text-gray-300">
                    <div>
                        <h3 class="font-medium text-gray-700 dark:text-gray-200">Dati di registrazione</h3>
                        <ul class="list-disc list-inside ml-4 mt-1">
                            <li>Indirizzo email</li>
                            <li>Nome visualizzato</li>
                            <li>Password (memorizzata in forma criptata/hash)</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-medium text-gray-700 dark:text-gray-200">Dati finanziari inseriti dall'utente</h3>
                        <ul class="list-disc list-inside ml-4 mt-1">
                            <li>Saldi conti bancari</li>
                            <li>Investimenti e portafogli</li>
                            <li>Obiettivi finanziari</li>
                            <li>Spese mensili</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Finalit√† -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üéØ</span> Finalit√† del Trattamento
                </h2>
                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-1">
                    <li>Fornitura del servizio di gestione patrimoniale</li>
                    <li>Autenticazione e sicurezza dell'account</li>
                    <li>Memorizzazione delle preferenze utente (lingua, tema)</li>
                </ul>
            </section>

            <!-- Cookie -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üç™</span> Cookie Utilizzati
                </h2>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                    Utilizziamo esclusivamente <strong>cookie tecnici essenziali</strong>, necessari per il funzionamento 
                    dell'applicazione. Non utilizziamo cookie di profilazione, analytics o pubblicitari.
                </p>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-gray-200 dark:border-gray-700">
                                <th class="text-left py-2 px-3 text-gray-700 dark:text-gray-300">Cookie</th>
                                <th class="text-left py-2 px-3 text-gray-700 dark:text-gray-300">Scopo</th>
                                <th class="text-left py-2 px-3 text-gray-700 dark:text-gray-300">Durata</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-600 dark:text-gray-400">
                            <tr class="border-b border-gray-100 dark:border-gray-800">
                                <td class="py-2 px-3 font-mono text-xs">.AspNetCore.Identity</td>
                                <td class="py-2 px-3">Autenticazione</td>
                                <td class="py-2 px-3">30 giorni</td>
                            </tr>
                            <tr class="border-b border-gray-100 dark:border-gray-800">
                                <td class="py-2 px-3 font-mono text-xs">.AspNetCore.Culture</td>
                                <td class="py-2 px-3">Preferenza lingua</td>
                                <td class="py-2 px-3">1 anno</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-3 font-mono text-xs">theme (localStorage)</td>
                                <td class="py-2 px-3">Tema dark/light</td>
                                <td class="py-2 px-3">Persistente</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Condivisione -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üîí</span> Condivisione dei Dati
                </h2>
                <p class="text-gray-600 dark:text-gray-300">
                    I tuoi dati <strong>non vengono condivisi</strong> con terze parti. 
                    Non utilizziamo servizi di analytics, advertising o social tracking.
                    I dati sono memorizzati esclusivamente sul server dell'applicazione.
                </p>
            </section>

            <!-- Sicurezza -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üõ°Ô∏è</span> Sicurezza
                </h2>
                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-1">
                    <li>Connessione crittografata HTTPS</li>
                    <li>Password memorizzate con hash sicuro (ASP.NET Core Identity)</li>
                    <li>Dati isolati per famiglia (multi-tenancy)</li>
                    <li>Protezione contro attacchi brute-force (lockout automatico)</li>
                </ul>
            </section>

            <!-- Diritti -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">‚öñÔ∏è</span> I Tuoi Diritti (GDPR)
                </h2>
                <p class="text-gray-600 dark:text-gray-300 mb-3">
                    In qualit√† di interessato, hai diritto a:
                </p>
                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-1">
                    <li><strong>Accesso</strong> - Ottenere copia dei tuoi dati</li>
                    <li><strong>Rettifica</strong> - Correggere dati inesatti</li>
                    <li><strong>Cancellazione</strong> - Richiedere l'eliminazione dei dati</li>
                    <li><strong>Portabilit√†</strong> - Esportare i tuoi dati (funzione Export integrata)</li>
                    <li><strong>Opposizione</strong> - Opporti al trattamento</li>
                </ul>
                <p class="text-gray-600 dark:text-gray-300 mt-3">
                    Per esercitare questi diritti, contattami su 
                    <a href="https://www.linkedin.com/in/riccardomerenda/" target="_blank" class="text-primary-600 dark:text-primary-400 hover:underline">LinkedIn</a>.
                </p>
            </section>

            <!-- Demo -->
            <section class="bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800">
                <h2 class="text-lg font-semibold text-amber-800 dark:text-amber-200 mb-2 flex items-center gap-2">
                    <span class="text-xl">üéÆ</span> Nota sulla Modalit√† Demo
                </h2>
                <p class="text-amber-700 dark:text-amber-300 text-sm">
                    L'account demo utilizza dati fittizi a scopo dimostrativo. 
                    I dati della demo possono essere resettati periodicamente.
                    Non inserire dati personali reali nell'account demo.
                </p>
            </section>

            <!-- Open Source -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span class="text-2xl">üìñ</span> Open Source
                </h2>
                <p class="text-gray-600 dark:text-gray-300">
                    FamilyFinance √® un progetto open-source. Il codice sorgente √® disponibile su 
                    <a href="https://github.com/riccardomerenda/FamilyBalance" target="_blank" class="text-primary-600 dark:text-primary-400 hover:underline">GitHub</a>
                    per trasparenza e verifica.
                </p>
            </section>

        </div>

        <!-- Footer -->
        <div class="mt-8 text-center">
            <a href="/Account/Login" class="inline-flex items-center gap-2 text-primary-600 dark:text-primary-400 hover:underline">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Torna al Login
            </a>
        </div>
    </div>
</div>

